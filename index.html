<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>WebApp</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        function sendAndClose() {
        // Инициализация данных пользователя от Telegram
        const user = Telegram.WebApp.initDataUnsafe.user;

        const data = { hex: 1, rgb: 2 };
        window.Telegram.WebApp.close(JSON.stringify(data));

        // const jsonData = JSON.stringify(data);

        // const token = "6867492650:AAFgcAXUrC2gKADq_WLlfievep75TYp0mOI"; // Убедитесь, что заменили на ваш реальный токен

        // const queryId = Telegram.WebApp.initDataUnsafe.query_id;
        // const url = `https://api.telegram.org/bot${token}/answerWebAppQuery`;

        // // Создаем массив с одним объектом InlineQueryResultArticle
        // const results = JSON.stringify([
        //     {
        //         type: 'article', // Указываем тип результата
        //         id: '1', // Уникальный идентификатор результата
        //         title: 'Your Title',
        //         input_message_content: {
        //             message_text: 'Your message text here' // Текст сообщения
        //         }
        //     }
        // ]);

        // const body = JSON.stringify({
        //     web_app_query_id: queryId,
        //     results: results // Исправлено на 'results' и передаем массив результатов
        // });

        // fetch(url, {
        //     method: 'POST',
        //     headers: {
        //         'Content-Type': 'application/json'
        //     },
        //     body: body
        // })
        // .then(response => response.json())
        // .then(data => {
        //     if (data.ok) {
        //         document.body.innerHTML += `<p>Response status: ${data.description}</p>`;
        //     } else {
        //         document.body.innerHTML += `<p>Error: ${data.description}</p>`;
        //     }
        // })
        // .catch((error) => {
        //     document.body.innerHTML += `<p>Error: ${error}</p>`;
        //     console.error('Error:', error);
        // });








          // fetch(url)
          //     .then(response => {
          //       console.log('Response:', response);

          //       return response.json();
          //     })
          //     .then(data => {
          //         console.log('Success:', data);
          //         document.body.innerHTML += `<p>Response data: ${JSON.stringify(data)}</p>`;
          //     })

          //     .catch((error) => {
          //         document.body.innerHTML += `<p>${error}</p>`;
          //         console.error('Error:', error);
          //     });

          
          // Telegram.WebApp.close();
        }
    </script>
</head>
<body>
<h1>Hello!</h1>
<button id="btn" onclick="sendAndClose()">Click me</button>
</body>
</html>
