<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>WebApp</title>
</head>
<body>
    <button id="closeButton">Нажми на меня</button>

    <script>
        // Проверка, что ваша веб-страница загружена внутри Telegram WebApp
        if (window.Telegram.WebApp) {
          // Инициализация WebApp, чтобы получить данные текущего пользователя
          Telegram.WebApp.ready();
      
          // Получаем данные из WebApp для последующего использования (если это необходимо)
          const initData = Telegram.WebApp.initData; // или Telegram.WebApp.initDataUnsafe если вам нужны данные пользователя
          const tgUser = Telegram.WebApp.initDataUnsafe?.user;
        }
      
        document.getElementById('closeButton').addEventListener('click', function() {
          // Функция для отправки сообщения обратно в бота
          function sendMessageToBot(message) {
            Telegram.WebApp.sendData(message);
          }
      
          // Вызов функции отправки сообщения обратно в бота
          sendMessageToBot("close");
      
          // Закрытие WebApp после выполнения операции
          Telegram.WebApp.close();
        });
      </script>
</body>
</html>
